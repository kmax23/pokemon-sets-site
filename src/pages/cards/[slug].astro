---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { cards } from '../../data/cards.js';

// Example card data (hardcoded for now)
// const cards = [
//   { slug: 'charizard', name: 'Charizard', rarity: 'Rare', set: 'Base Set' },
//   { slug: 'blastoise', name: 'Blastoise', rarity: 'Rare', set: 'Base Set' },
//   { slug: 'venusaur', name: 'Venusaur', rarity: 'Rare', set: 'Base Set' },
// ];

// Generate paths
export async function getStaticPaths() {
  return cards.map(card => ({
    params: { slug: card.slug }
  }));
}

const { slug } = Astro.params;
const card = cards.find(c => c.slug === slug);
if (!card) {
  throw new Error(`Card not found: ${slug}`);
}
---

<BaseLayout title={card.name} description={`Details for ${card.name}`}>
  <div class="max-w-2xl mx-auto">
    <img src={card.image} alt={card.name} class="w-full h-80 object-contain mb-6" />

    <h1 class="text-3xl font-bold mb-2">{card.name}</h1>
    <p class="text-gray-600 mb-4">{card.rarity} â€” from {card.set}</p>

    <div class="space-y-2">
      <a href="https://www.tcgplayer.com/" target="_blank" class="block bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700">
        Buy on TCGplayer
      </a>
      <a href="https://www.ebay.com/" target="_blank" class="block bg-yellow-500 text-white px-4 py-2 rounded-lg shadow hover:bg-yellow-600">
        Buy on eBay
      </a>
      <a href="https://www.amazon.com/" target="_blank" class="block bg-green-600 text-white px-4 py-2 rounded-lg shadow hover:bg-green-700">
        Buy on Amazon
      </a>
    </div>
  </div>
</BaseLayout>
