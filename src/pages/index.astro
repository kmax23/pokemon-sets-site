---
import BaseLayout from '../layouts/BaseLayout.astro';

const response = await fetch('https://api.pokemontcg.io/v2/sets', {
  headers: {
    'X-Api-Key': import.meta.env.POKEMONTCG_API_KEY
  }
});
const data = await response.json();
const sets = data.data;
---

<BaseLayout title="Pokémon TCG Sets">
  <div class="max-w-6xl mx-auto p-6">
    <h1 class="text-3xl font-bold mb-6 text-gray-900 dark:text-gray-100">Pokémon TCG Sets</h1>

    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6">
      {sets.map(set => (
        <a href={`/sets/${set.id}`} class="bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-lg transition overflow-hidden">
          <img src={set.images.logo} alt={set.name} class="w-full h-32 object-contain bg-gray-100 p-2" />
          <div class="p-2">
            <h2 class="text-lg font-semibold truncate">{set.name}</h2>
            <p class="text-sm text-gray-500">{set.releaseDate}</p>
          </div>
        </a>
      ))}
    </div>
  </div>
</BaseLayout>
